<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">

<style>
  body {
    font-family: Inter, system-ui, sans-serif;
    background: transparent;
    margin: 0;
    padding: 0;
  }

  .container {
    background: #ffffff;
    padding: 16px;
    border-radius: 14px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    width: 260px;
    text-align: center;
    position: relative;
  }

  h3 {
    margin: 0 0 10px;
    font-size: 16px;
  }

  .date-control {
  position: absolute;
  bottom: 8px;
  right: 8px;
  display: flex;
  align-items: center;
}

button#toggleDate {
  background: #f5f6fa;
  border: none;
  border-radius: 50%;
  padding: 6px;
  font-size: 14px;
  cursor: pointer;
  box-shadow: 0 2px 6px rgba(0,0,0,0.12);
}

button#toggleDate:hover {
  background: #e9ebf3;
}

input.hidden {
  display: none;
}

input[type="date"] {
  position: absolute;
  bottom: 36px;
  right: 0;
  padding: 2px 6px;
  font-size: 11px;
  border-radius: 6px;
  border: 1px solid #ddd;
  background: #fff;
}

  .counter {
    display: flex;
    justify-content: space-between;
    gap: 10px;
  }

  .box {
    flex: 1;
    background: #f3e8ff;
    border-radius: 10px;
    padding: 10px;
    transition: background-color 0.3s ease;
}
  
  .number {
    font-size: 28px;
    font-weight: 700;
    line-height: 1;
  }

  .label {
    font-size: 12px;
    color: #555;
    margin-top: 4px;
  }

  .message {
    margin-top: 10px;
    font-size: 13px;
    color: #888;
  }
</style>
</head>

<body>

<div class="container">

  <div class="date-control">
  <button id="toggleDate" title="Cambiar fecha">ðŸ“…</button>
  <input type="date" id="targetDate" class="hidden">
</div>

  <div class="counter">
    <div class="box">
      <div class="number" id="months">--</div>
      <div class="label">Meses</div>
    </div>
    <div class="box">
      <div class="number" id="days">--</div>
      <div class="label">DÃ­as</div>
    </div>
  </div>
  

<script>
const input = document.getElementById("targetDate");
const toggleBtn = document.getElementById("toggleDate");
const monthsEl = document.getElementById("months");
const daysEl = document.getElementById("days");

// Mostrar / ocultar input
toggleBtn.addEventListener("click", () => {
  input.classList.toggle("hidden");
  input.focus();
});

// Cargar fecha guardada
window.addEventListener("DOMContentLoaded", () => {
  const savedDate = localStorage.getItem("targetDate");
  if (savedDate) {
    input.value = savedDate;
    updateCountdown();
  }
});

// Guardar fecha y ocultar input
input.addEventListener("change", () => {
  localStorage.setItem("targetDate", input.value);
  updateCountdown();
  input.classList.add("hidden");
});

function updateCountdown() {
  if (!input.value) return;

  const today = new Date();
  const target = new Date(input.value);

  if (target <= today) {
    monthsEl.textContent = "0";
    daysEl.textContent = "0";
    return;
  }

  let years = target.getFullYear() - today.getFullYear();
  let months = target.getMonth() - today.getMonth();
  let days = target.getDate() - today.getDate();

  if (days < 0) {
    months--;
    const lastMonthDays = new Date(
      target.getFullYear(),
      target.getMonth(),
      0
    ).getDate();
    days += lastMonthDays;
  }

  if (months < 0) {
    years--;
    months += 12;
  }

  monthsEl.textContent = years * 12 + months;
  daysEl.textContent = days;
}
</script>


</body>
</html>
